import{_ as v,r as g,o as i,c as n,b as t,d as f,t as c,F as d,f as u,h as y,v as b}from"./index-30b6f64c.js";const{VITE_URL:_,VITE_PATH:p}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{product:{},loader:{},loadingItem:"",qty:1,isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const{id:l}=this.$route.params;this.$http.get(`${_}/v2/api/${p}/product/${l}`).then(o=>{this.product=o.data.product,this.isLoading=!1}).catch(o=>console.log(o))},addToCart(l,o=1){const r={product_id:l,qty:o};this.loadingItem=l,this.$http.post(`${_}/v2/api/${p}/cart`,{data:r}).then(()=>{alert("加入成功")}).catch(a=>{console.log(a)}).finally(()=>this.loadingItem="")}},mounted(){this.getProduct()}},x={class:"vl-parent"},L={class:"text-center mb-3"},k={class:"row mb-5"},E={class:"col-5"},I={class:"text-center"},T=["src"],w={class:"mt-2"},P=["src"],U={class:"col-7 d-flex flex-column"},C=t("div",{class:"h3"},"內容物:",-1),D={class:"p-2"},R=t("div",{class:"h3"},"商品敘述:",-1),S={class:"p-2"},B=t("div",{class:"h3"},"價格:",-1),q={key:0,class:"h5 p-2"},A={key:1,class:"p-2"},F={class:"h6 text-secondary"},H={class:"h4"},M=t("div",{class:"h3"},"剩餘數量:",-1),N={class:"p-2"},O={class:"input-group mt-auto mb-3 w-75"},j=["value"],z=["disabled"],G={class:"text-start"};function J(l,o,r,a,s,h){const m=g("VLoading");return i(),n(d,null,[t("div",x,[f(m,{active:s.isLoading,"onUpdate:active":o[0]||(o[0]=e=>s.isLoading=e),"can-cancel":!1,"is-full-page":!0},null,8,["active"])]),t("h1",L,c(s.product.title),1),t("div",k,[t("div",E,[t("div",I,[t("img",{src:s.product.imageUrl,alt:"",class:"img-fluid"},null,8,T)]),t("div",w,[(i(!0),n(d,null,u(s.product.imagesUrl,e=>(i(),n("img",{src:e,alt:"",key:e,class:"product-images me-1"},null,8,P))),128))])]),t("div",U,[C,t("p",D,c(s.product.content),1),R,t("p",S,c(s.product.description),1),B,s.product.origin_price===s.product.price?(i(),n("div",q,c(s.product.price)+"元 ",1)):(i(),n("div",A,[t("del",F,"原價"+c(s.product.origin_price)+"元",1),t("div",H,"現在只要"+c(s.product.price)+"元",1)])),M,t("p",N,c(s.product.num)+" "+c(s.product.unit),1),t("div",O,[y(t("select",{class:"form-select","onUpdate:modelValue":o[1]||(o[1]=e=>s.qty=e)},[(i(!0),n(d,null,u(s.product.num,e=>(i(),n("option",{key:e,value:e},c(e),9,j))),128))],512),[[b,s.qty]]),t("button",{type:"button",class:"btn btn-danger",disabled:this.loadingItem===s.product.id,onClick:o[2]||(o[2]=e=>h.addToCart(s.product.id))}," 加入購物車 ",8,z)]),t("div",G,[t("button",{class:"btn btn-outline-secondary w-25",onClick:o[3]||(o[3]=e=>this.$router.go(-1))}," 返回 ")])])])],64)}const Q=v(V,[["render",J]]);export{Q as default};
